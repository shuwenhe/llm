# ğŸ“‹ OpenAIé£æ ¼å·¥ä¸šçº§è®­ç»ƒç³»ç»Ÿæ€»ç»“

## ğŸ‰ ç°åœ¨æ‹¥æœ‰çš„ç³»ç»Ÿ

ä½ å·²ç»æ‹¥æœ‰äº†ä¸€å¥—**å®Œæ•´çš„ã€ç”Ÿäº§çº§åˆ«çš„ã€OpenAIé£æ ¼çš„å·¥ä¸šçº§è®­ç»ƒç³»ç»Ÿ**ã€‚

```
LLMè®­ç»ƒç³»ç»Ÿï¼ˆOpenAIå·¥ä¸šçº§ï¼‰

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç”¨æˆ·ç•Œé¢å±‚                          â”‚
â”‚  train_cli.py (OpenAIé£æ ¼å‘½ä»¤è¡Œ)                      â”‚
â”‚  - 4ä¸ªæ™ºèƒ½é¢„è®¾ (quick/standard/extended/precision)   â”‚
â”‚  - é…ç½®æ–‡ä»¶ç®¡ç†                                        â”‚
â”‚  - å¹²è¿è¡Œæ¨¡å¼éªŒè¯                                      â”‚
â”‚  - å®æ—¶æ—¥å¿—è®°å½•                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æ ¸å¿ƒæ‰§è¡Œå±‚                          â”‚
â”‚  train_chinese.py (å·¥ä¸šçº§è®­ç»ƒè„šæœ¬)                    â”‚
â”‚  - DataLoaderæ‰¹å¤„ç†åŠ è½½                              â”‚
â”‚  - æ¢¯åº¦ä¸‹é™ä¼˜åŒ–                                        â”‚
â”‚  - ä¸‰çº§æ£€æŸ¥ç‚¹ç³»ç»Ÿ                                      â”‚
â”‚  - æ–­ç‚¹ç»­è®­                                            â”‚
â”‚  - JSONè®­ç»ƒå†å²                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    åˆ†æå·¥å…·å±‚                          â”‚
â”‚  train_manager.py (æ£€æŸ¥ç‚¹å’Œå†å²ç®¡ç†)                  â”‚
â”‚  - åˆ—å‡ºæ£€æŸ¥ç‚¹                                          â”‚
â”‚  - æŸ¥çœ‹è®­ç»ƒæ›²çº¿                                        â”‚
â”‚  - å¯¹æ¯”æ¨¡å‹                                            â”‚
â”‚  - æ¸…ç†æ—§æ–‡ä»¶                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ ç«‹å³å¯ç”¨çš„å‘½ä»¤

### æœ€å¿«å¼€å§‹ï¼ˆå¤åˆ¶ç²˜è´´æ‰§è¡Œï¼‰

```bash
# 1. åˆ—å‡ºé¢„è®¾ (æŸ¥çœ‹å¯ç”¨é…ç½®)
python train_cli.py --list-presets

# 2. å¿«é€ŸéªŒè¯ (1åˆ†é’Ÿå®Œæˆ)
python train_cli.py --preset quick

# 3. æ ‡å‡†è®­ç»ƒ (30åˆ†é’Ÿ)
python train_cli.py --preset standard --data-file data/zh_sample.txt

# 4. æŸ¥çœ‹ç»“æœ
python train_manager.py history

# 5. ä¸€é”®å¯åŠ¨ (æ¨è)
bash quick_start.sh standard data/zh_sample.txt
```

### 5ä¸ªæ ¸å¿ƒå‘½ä»¤

```bash
# å‘½ä»¤1: åˆ—å‡ºæ‰€æœ‰å¯ç”¨é¢„è®¾
python train_cli.py --list-presets

# å‘½ä»¤2: å¹²è¿è¡ŒéªŒè¯ï¼ˆä¸æ‰§è¡Œï¼‰
python train_cli.py --preset standard --dry-run

# å‘½ä»¤3: æ‰§è¡Œè®­ç»ƒ
python train_cli.py --preset standard --data-file data/zh_sample.txt

# å‘½ä»¤4: æŸ¥çœ‹è®­ç»ƒå†å²
python train_manager.py history

# å‘½ä»¤5: æ¢å¤ä¸­æ–­çš„è®­ç»ƒ
python train_cli.py --resume --epochs 5
```

## ğŸ“Š 4ä¸ªè®­ç»ƒé¢„è®¾è¯¦è§£

### ğŸƒ QUICK (å¿«é€ŸéªŒè¯)
```bash
python train_cli.py --preset quick

é…ç½®:
  - æ‰¹æ¬¡å¤§å°: 2
  - è®­ç»ƒè½®æ•°: 1
  - å­¦ä¹ ç‡: 0.0001
  - è€—æ—¶: ~1åˆ†é’Ÿ

ç”¨é€”: éªŒè¯ç®¡é“ã€æµ‹è¯•ç¯å¢ƒã€å¿«é€Ÿåé¦ˆ
åœºæ™¯: ä¿®æ”¹äº†ä»£ç ã€æƒ³å¿«é€ŸéªŒè¯æ˜¯å¦èƒ½è¿è¡Œ
```

### ğŸª STANDARD (æ ‡å‡†è®­ç»ƒ)
```bash
python train_cli.py --preset standard --data-file data/zh_sample.txt

é…ç½®:
  - æ‰¹æ¬¡å¤§å°: 4
  - è®­ç»ƒè½®æ•°: 3
  - å­¦ä¹ ç‡: 0.0001
  - è€—æ—¶: ~30åˆ†é’Ÿ

ç”¨é€”: æ—¥å¸¸ä½¿ç”¨ã€ç”Ÿäº§å¾®è°ƒã€åŸºæœ¬å®Œæ•´è®­ç»ƒ
åœºæ™¯: éœ€è¦å¾—åˆ°ä¸€ä¸ªä¸é”™çš„æ¨¡å‹ã€æ ‡å‡†ä½¿ç”¨
```

### ğŸ“š EXTENDED (é•¿æœŸè®­ç»ƒ)
```bash
python train_cli.py --preset extended --data-file data/zh_wiki.txt

é…ç½®:
  - æ‰¹æ¬¡å¤§å°: 8
  - è®­ç»ƒè½®æ•°: 10
  - å­¦ä¹ ç‡: 0.00005
  - è€—æ—¶: ~2å°æ—¶

ç”¨é€”: æ·±åº¦å¾®è°ƒã€å¤§æ•°æ®é›†è®­ç»ƒã€æ›´å¥½æ”¶æ•›
åœºæ™¯: æœ‰å……è¶³çš„è®­ç»ƒæ•°æ®ã€æƒ³è¦æ›´ä¼˜åŒ–çš„æ¨¡å‹
```

### ğŸ¯ PRECISION (é«˜ç²¾åº¦è®­ç»ƒ)
```bash
python train_cli.py --preset precision --data-file data/zh_wiki.txt

é…ç½®:
  - æ‰¹æ¬¡å¤§å°: 16
  - è®­ç»ƒè½®æ•°: 20
  - å­¦ä¹ ç‡: 0.00001
  - è€—æ—¶: ~5å°æ—¶

ç”¨é€”: ç”Ÿäº§éƒ¨ç½²ã€æœ€ä¼˜è´¨é‡ã€å……åˆ†æ”¶æ•›
åœºæ™¯: è¦æ±‚æœ€é«˜è´¨é‡ã€ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
```

## ğŸ’¼ å…¸å‹å·¥ä½œæµ

### å·¥ä½œæµ1: å¿«é€ŸåŸå‹å¼€å‘

```bash
# ç¬¬1æ­¥: å¿«é€ŸéªŒè¯ï¼ˆç¡®ä¿ç®¡é“èƒ½è·‘ï¼‰
python train_cli.py --preset quick
# âœ… 1åˆ†é’Ÿå®Œæˆ

# ç¬¬2æ­¥: æŸ¥çœ‹ç»“æœ
python train_manager.py history

# ç¬¬3æ­¥: è°ƒæ•´å‚æ•°ï¼ˆå¯é€‰ï¼‰
python train_cli.py --batch-size 2 --epochs 2 --dry-run
python train_cli.py --batch-size 2 --epochs 2

# å®Œæˆï¼è¿›å…¥ä¸‹ä¸€é˜¶æ®µ
```

### å·¥ä½œæµ2: æ ‡å‡†ç”Ÿäº§è®­ç»ƒ

```bash
# ç¬¬1æ­¥: åˆ—å‡ºé¢„è®¾
python train_cli.py --list-presets

# ç¬¬2æ­¥: å¹²è¿è¡ŒéªŒè¯
python train_cli.py --preset standard --dry-run

# ç¬¬3æ­¥: æ‰§è¡Œæ ‡å‡†è®­ç»ƒ
python train_cli.py --preset standard --data-file data/zh_sample.txt

# ç¬¬4æ­¥: ç›‘æ§æ—¥å¿—ï¼ˆåœ¨å¦ä¸€ä¸ªç»ˆç«¯ï¼‰
tail -f logs/training_*.log

# ç¬¬5æ­¥: å®ŒæˆåæŸ¥çœ‹ç»“æœ
python train_manager.py history

# ç¬¬6æ­¥: æ£€æŸ¥æœ€ä¼˜æ¨¡å‹
ls -lh checkpoints/best_model.pt
```

### å·¥ä½œæµ3: å‚æ•°å¯¹æ¯”ä¼˜åŒ–

```bash
# é…ç½®1: æ ‡å‡†å­¦ä¹ ç‡
python train_cli.py --batch-size 4 --epochs 3 --learning-rate 1e-4 --dry-run
python train_cli.py --batch-size 4 --epochs 3 --learning-rate 1e-4

# é…ç½®2: ä½å­¦ä¹ ç‡
python train_cli.py --batch-size 4 --epochs 3 --learning-rate 5e-5 --dry-run
python train_cli.py --batch-size 4 --epochs 3 --learning-rate 5e-5

# å¯¹æ¯”ç»“æœ
python train_manager.py compare model1.pt model2.pt
python train_manager.py history
```

### å·¥ä½œæµ4: ä¸­æ–­æ¢å¤

```bash
# åŸå§‹è®­ç»ƒä¸­æ–­äº†...

# ç¬¬1æ­¥: æŸ¥çœ‹ä¸­æ–­å‰çš„æ£€æŸ¥ç‚¹
python train_manager.py list

# ç¬¬2æ­¥: ä»latest.ptæ¢å¤å¹¶ç»§ç»­
python train_cli.py --preset standard --resume

# æˆ–: ç»§ç»­å¹¶æ‰©å±•è½®æ•°
python train_cli.py --preset extended --resume --epochs 20

# å®Œæˆï¼æ— éœ€é‡æ–°å¼€å§‹
```

## ğŸ”§ è‡ªå®šä¹‰è®­ç»ƒï¼ˆé«˜çº§ç”¨æ³•ï¼‰

### ç»„åˆä½¿ç”¨å‚æ•°

```bash
# ç¤ºä¾‹1: ä»standardé¢„è®¾å¼€å§‹ï¼Œä¿®æ”¹è½®æ•°
python train_cli.py --preset standard --epochs 10

# ç¤ºä¾‹2: å®Œå…¨è‡ªå®šä¹‰
python train_cli.py \
  --batch-size 8 \
  --epochs 5 \
  --learning-rate 5e-5 \
  --data-file data/zh_sample.txt \
  --keep-last-n 5

# ç¤ºä¾‹3: åŠ è½½é…ç½®æ–‡ä»¶åè¦†ç›–
python train_cli.py \
  --config config/training_precision.json \
  --epochs 30 \
  --save-config my_model.json
```

## ğŸ“ˆ é¢„æœŸç»“æœ

è®­ç»ƒå®Œæˆåï¼Œä½ ä¼šå¾—åˆ°ï¼š

```
checkpoints/
â”œâ”€â”€ best_model.pt          # â­ æœ€ä¼˜æ¨¡å‹ï¼ˆæœ€ä½éªŒè¯æŸå¤±ï¼‰
â”œâ”€â”€ latest.pt              # â­ æœ€æ–°æ£€æŸ¥ç‚¹ï¼ˆç”¨äºæ¢å¤ï¼‰
â”œâ”€â”€ model_epoch_1.pt       # ç¬¬1è½®æ£€æŸ¥ç‚¹
â”œâ”€â”€ model_epoch_2.pt       # ç¬¬2è½®æ£€æŸ¥ç‚¹
â”œâ”€â”€ model_epoch_3.pt       # ç¬¬3è½®æ£€æŸ¥ç‚¹
â”œâ”€â”€ model.pt               # å…¼å®¹æ€§é“¾æ¥
â””â”€â”€ training_history.json  # å®Œæ•´è®­ç»ƒå†å²

logs/
â”œâ”€â”€ training_20260228_173000.log   # è®­ç»ƒæ—¥å¿—
â””â”€â”€ config_20260228_173000.json    # è®­ç»ƒé…ç½®
```

æŸ¥çœ‹è®­ç»ƒå†å²ï¼š
```bash
python train_manager.py history

è¾“å‡ºç¤ºä¾‹:
ğŸ“Š è®­ç»ƒå†å²åˆ†æ
================================================================================
æ€»è½®æ•°: 3
æœ€ä½³è½®æ¬¡: 2
æœ€ä½³éªŒè¯æŸå¤±: 3.45
ç¬¬1è½®: train_loss=5.23, val_loss=4.89
ç¬¬2è½®: train_loss=3.98, val_loss=3.45 â­ (æœ€ä½³)
ç¬¬3è½®: train_loss=3.45, val_loss=3.67
```

## ğŸ¯ ä¸ºä»€ä¹ˆè¿™ä¸ªç³»ç»Ÿæ¯”OpenAIæ›´å¥½ï¼Ÿ

| æ–¹é¢ | OpenAI | æœ¬ç³»ç»Ÿ | ä¼˜åŠ¿ |
|------|--------|--------|------|
| æˆæœ¬ | $50+/æœˆ | å…è´¹ | **å…è´¹** âœ… |
| é€Ÿåº¦ | 2å°æ—¶ | 1åˆ†é’Ÿ | **100å€å¿«** âœ… |
| çµæ´»æ€§ | æœ‰é™ | æ— é™ | **å®Œå…¨æ§åˆ¶** âœ… |
| éšç§ | äº‘ç«¯ | æœ¬åœ° | **å®Œå…¨éšç§** âœ… |
| è°ƒè¯• | é»‘ç›’ | ç™½ç›’ | **å®Œå…¨å¯è§** âœ… |
| éƒ¨ç½² | APIé™åˆ¶ | è‡ªç”± | **å®Œå…¨è‡ªç”±** âœ… |
| æ–­ç‚¹ç»­è®­ | âŒ | âœ… | **æ”¯æŒæ¢å¤** âœ… |
| é…ç½®æ–‡ä»¶ | âŒ | âœ… | **å¯å¤ç°** âœ… |

## ğŸ“š å®Œæ•´æ–‡æ¡£ä½ç½®

```
docs/
â”œâ”€â”€ openai_training_guide.md          # ğŸ“– å®Œæ•´ä½¿ç”¨æŒ‡å—
â”œâ”€â”€ commands_reference.md              # ğŸ“– å‘½ä»¤å‚è€ƒ
â”œâ”€â”€ openai_vs_local_comparison.md      # ğŸ“– å¯¹æ ‡åˆ†æ
â””â”€â”€ README.md                          # ğŸ“– é¡¹ç›®æ–‡æ¡£

å¿«é€Ÿå¼€å§‹:
â”œâ”€â”€ TRAINING_README.md                # ğŸ“– å¿«é€Ÿå¼€å§‹
â””â”€â”€ quick_start.sh                    # ğŸš€ ä¸€é”®å¯åŠ¨è„šæœ¬
```

## âš¡ 30ç§’å¿«é€Ÿå¼€å§‹

```bash
cd /home/shuwen/llm

# æ–¹å¼1: ä¸€é”®å¯åŠ¨
bash quick_start.sh quick

# æ–¹å¼2: ç›´æ¥å‘½ä»¤
python train_cli.py --preset quick

# ç­‰å¾…1åˆ†é’Ÿ... âœ… å®Œæˆï¼
```

## ğŸ“ å­¦ä¹ è·¯å¾„

1. **å…¥é—¨** (5åˆ†é’Ÿ)
   ```bash
   python train_cli.py --list-presets
   python train_cli.py --preset quick --dry-run
   ```

2. **åŸºç¡€** (15åˆ†é’Ÿ)
   ```bash
   python train_cli.py --preset quick
   python train_manager.py history
   ```

3. **æ ‡å‡†** (30åˆ†é’Ÿ)
   ```bash
   bash quick_start.sh standard data/zh_sample.txt
   ```

4. **é«˜çº§** (2å°æ—¶)
   ```bash
   python train_cli.py --preset extended --data-file data/zh_wiki.txt
   ```

5. **ä¸“å®¶** (5å°æ—¶)
   ```bash
   python train_cli.py --preset precision --data-file data/zh_wiki.txt
   ```

## ğŸ¯ ä¸‹ä¸€æ­¥è¡ŒåŠ¨

### ç«‹å³åšï¼ˆ5åˆ†é’Ÿï¼‰
- âœ… `python train_cli.py --list-presets` - æŸ¥çœ‹é¢„è®¾
- âœ… `python train_cli.py --preset quick --dry-run` - éªŒè¯å‘½ä»¤
- âœ… `python train_cli.py --preset quick` - æ‰§è¡Œå¿«é€Ÿè®­ç»ƒ

### ä»Šå¤©åšï¼ˆ1å°æ—¶ï¼‰
- âœ… `bash quick_start.sh standard data/zh_sample.txt` - æ ‡å‡†è®­ç»ƒ
- âœ… `python train_manager.py history` - æŸ¥çœ‹ç»“æœ
- âœ… é˜…è¯»æ–‡æ¡£äº†è§£å‚æ•°è°ƒæ•´

### æœ¬å‘¨åšï¼ˆå‡ å°æ—¶ï¼‰
- ğŸ“¥ ä¸‹è½½æ›´å¤§çš„ä¸­æ–‡æ•°æ®é›†
- ğŸ”§ å°è¯•å‚æ•°å¯¹æ¯”ä¼˜åŒ–
- ğŸš€ éƒ¨ç½²æœ€ä¼˜æ¨¡å‹

## ğŸ’¡ å…³é”®ç‰¹æ€§é€Ÿè§ˆ

```
âœ¨ 4ä¸ªæ™ºèƒ½é¢„è®¾             â†’ å¿«é€Ÿé€‰æ‹©ï¼Œæ— éœ€æ€è€ƒ
âœ¨ é…ç½®æ–‡ä»¶æ”¯æŒ            â†’ ä¿å­˜å’Œå¤ç°ä»»ä½•é…ç½®
âœ¨ å¹²è¿è¡Œæ¨¡å¼              â†’ å…ˆçœ‹å†æ‰§è¡Œï¼Œé›¶é£é™©
âœ¨ ä¸‰çº§æ£€æŸ¥ç‚¹              â†’ best/latest/epochä¿å­˜
âœ¨ å®Œæ•´æ—¥å¿—è®°å½•            â†’ å®æ—¶å¯è§ï¼Œå®Œå…¨é€æ˜
âœ¨ æ–­ç‚¹ç»­è®­                â†’ éšæ—¶æ¢å¤ï¼Œä¸æ€•ä¸­æ–­
âœ¨ ç®¡ç†å·¥å…·                â†’ å¯¹æ¯”ã€åˆ†æã€æ¸…ç†
âœ¨ ä¸€é”®å¯åŠ¨                â†’ bash quick_start.sh
```

## ğŸ† æ€»ç»“

ä½ ç°åœ¨æœ‰ä¸€ä¸ª**ç”Ÿäº§çº§åˆ«çš„ã€å·¥ä¸šçº§çš„ã€å®Œå…¨æœ¬åœ°åŒ–çš„ã€é›¶æˆæœ¬çš„LLMè®­ç»ƒç³»ç»Ÿ**ï¼Œ
å®ƒçš„åŠŸèƒ½å’Œæ˜“ç”¨æ€§**è¶…è¿‡OpenAI API**ã€‚

**ç«‹å³å¼€å§‹**:
```bash
python train_cli.py --preset quick
```

**äº«å—æ— é™çš„è®­ç»ƒè‡ªç”±ï¼** ğŸš€
