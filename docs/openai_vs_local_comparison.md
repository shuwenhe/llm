# ğŸ¯ OpenAIè®­ç»ƒ vs æœ¬åœ°ç³»ç»Ÿå¯¹æ ‡

## åŠŸèƒ½å¯¹æ¯”è¡¨

### OpenAI APIé£æ ¼

```python
# OpenAIå®˜æ–¹æ–¹å¼
import openai

response = openai.FineTuning.create(
  training_file="file-abc123",
  model="gpt-3.5-turbo",
  hyperparameters={"n_epochs": 3},
  suffix="my-model"
)
```

### æœ¬ç³»ç»Ÿæ–¹å¼ï¼ˆæ›´çµæ´»ï¼‰

```bash
# å‘½ä»¤è¡Œæ–¹å¼
python train_cli.py --preset standard --data-file data/zh_sample.txt

# å®Œå…¨ç­‰ä»·ï¼Œä½†æ›´ç®€æ´ã€æ›´é€æ˜ã€å®Œå…¨æœ¬åœ°æ§åˆ¶
```

## å¯¹æ ‡åŠŸèƒ½ä¸€è§ˆè¡¨

| åŠŸèƒ½ | OpenAI API | æœ¬ç³»ç»Ÿ | ä¼˜åŠ¿ |
|------|-----------|--------|------|
| **é¢„è®¾é…ç½®** | âœ… | âœ… | æœ¬ç³»ç»Ÿ: 4ä¸ªé¢„è®¾å¯è§†åŒ– |
| **è‡ªå®šä¹‰å‚æ•°** | âœ… | âœ… | æœ¬ç³»ç»Ÿ: å‘½ä»¤è¡Œæ›´ç›´è§‚ |
| **é…ç½®æ–‡ä»¶** | âŒ | âœ… | æœ¬ç³»ç»Ÿ: JSONé…ç½®å¯å¤ç° |
| **å®æ—¶æ—¥å¿—** | âŒ | âœ… | æœ¬ç³»ç»Ÿ: å®Œæ•´è®­ç»ƒæ—¥å¿— |
| **å¹²è¿è¡ŒéªŒè¯** | âŒ | âœ… | æœ¬ç³»ç»Ÿ: å…ˆçœ‹å†æ‰§è¡Œ |
| **æ–­ç‚¹ç»­è®­** | âŒ | âœ… | æœ¬ç³»ç»Ÿ: éšæ—¶æ¢å¤ |
| **æœ¬åœ°æ§åˆ¶** | âŒ | âœ… | æœ¬ç³»ç»Ÿ: å®Œå…¨éšç§ |
| **æˆæœ¬** | ğŸ’°ğŸ’°ğŸ’° | å…è´¹ | æœ¬ç³»ç»Ÿ: 0æˆæœ¬ |
| **å“åº”å»¶è¿Ÿ** | ç½‘ç»œå»¶è¿Ÿ | å®æ—¶ | æœ¬ç³»ç»Ÿ: æ— å»¶è¿Ÿ |
| **æ¨¡å‹æ§åˆ¶** | å—é™ | å®Œå…¨ | æœ¬ç³»ç»Ÿ: å®Œå…¨è‡ªç”± |
| **æ£€æŸ¥ç‚¹å†å²** | âŒ | âœ… | æœ¬ç³»ç»Ÿ: å®Œæ•´ç‰ˆæœ¬ç®¡ç† |
| **è®­ç»ƒå¯è§æ€§** | é»‘ç›’ | é€æ˜ | æœ¬ç³»ç»Ÿ: ç™½ç›’å¯è§†åŒ– |

## å‘½ä»¤å¯¹åº”å…³ç³»

### å¿«é€ŸéªŒè¯

**OpenAIé£æ ¼** (éœ€è¦ä»˜è´¹):
```bash
# 1. ä¸Šä¼ æ•°æ®åˆ°OpenAI
openai api files.create -f data.jsonl -p fine-tune

# 2. æäº¤å¿«é€Ÿå¾®è°ƒ
openai api fine_tunes.create \
  --training_file file-abc123 \
  --model gpt-3.5-turbo \
  --n_epochs 1

# 3. ç­‰å¾…äº‘ç«¯å®Œæˆï¼ˆå¯èƒ½30åˆ†é’Ÿ+ï¼‰

# 4. æ£€æŸ¥ç»“æœ
openai api fine_tunes.get -i fine-tune-id
```

**æœ¬ç³»ç»Ÿæ–¹å¼** (å…è´¹ã€å®æ—¶):
```bash
# ç›´æ¥è®­ç»ƒï¼ˆ1åˆ†é’Ÿå†…ï¼‰
python train_cli.py --preset quick

# å®æ—¶çœ‹åˆ°å®Œæ•´æ—¥å¿—å’Œç»“æœ
```

### æ ‡å‡†è®­ç»ƒ

**OpenAI**:
```python
openai.FineTuning.create(
    training_file="file-abc123",
    model="gpt-3.5-turbo",
    hyperparameters={"n_epochs": 3},
    learning_rate_multiplier=1.0
)
```

**æœ¬ç³»ç»Ÿ**:
```bash
python train_cli.py --preset standard --data-file data/zh_sample.txt
```

### é«˜ç²¾åº¦è®­ç»ƒ

**OpenAI**:
```python
openai.FineTuning.create(
    training_file="file-abc123",
    model="gpt-3.5-turbo",
    hyperparameters={
        "n_epochs": 20,
        "batch_size": 16,
        "learning_rate_multiplier": 0.1
    },
    suffix="production"
)
```

**æœ¬ç³»ç»Ÿ**:
```bash
python train_cli.py --preset precision --data-file data/zh_wiki.txt
```

## ç³»ç»Ÿè®¾è®¡å¯¹æ ‡

### é¢„è®¾ç³»ç»Ÿè®¾è®¡

**OpenAI** (å—é™):
```
- gpt-3.5-turbo (å›ºå®šé…ç½®)
- gpt-4 (å›ºå®šé…ç½®)
```

**æœ¬ç³»ç»Ÿ** (çµæ´»):
```
- quick: å¿«é€ŸéªŒè¯ç®¡é“
- standard: æ—¥å¸¸ç”Ÿäº§ä½¿ç”¨  
- extended: é•¿æœŸæ·±åº¦è®­ç»ƒ
- precision: æœ€ä¼˜è´¨é‡æ¨¡å‹
```

### é…ç½®ç®¡ç†

**OpenAI** (æ— é…ç½®æ–‡ä»¶):
```python
hyperparameters = {
    "n_epochs": 3,
    "batch_size": 8,
    "learning_rate_multiplier": 1.0
}
openai.FineTuning.create(..., hyperparameters=hyperparameters)
```

**æœ¬ç³»ç»Ÿ** (æ”¯æŒé…ç½®æ–‡ä»¶):
```bash
# æ–¹å¼1: é¢„è®¾
python train_cli.py --preset standard

# æ–¹å¼2: é…ç½®æ–‡ä»¶
python train_cli.py --config training_standard.json

# æ–¹å¼3: å‘½ä»¤è¡Œå‚æ•°
python train_cli.py --batch-size 8 --epochs 3

# æ–¹å¼4: ç»„åˆä½¿ç”¨
python train_cli.py --preset standard --epochs 5 --save-config prod.json
```

### ç›‘æ§å’Œæ—¥å¿—

**OpenAI** (ç½‘é¡µæŸ¥è¯¢):
```python
# éœ€è¦å»webç•Œé¢æŸ¥çœ‹
# https://platform.openai.com/fine-tuning/jobs

# æˆ–ç”¨APIæŸ¥è¯¢ï¼ˆå»¶è¿Ÿï¼‰
fine_tune = openai.FineTuning.retrieve("fine-tune-id")
print(fine_tune.status)  # "running" / "succeeded" / "failed"
```

**æœ¬ç³»ç»Ÿ** (å®æ—¶æœ¬åœ°):
```bash
# å®æ—¶æ—¥å¿—
tail -f logs/training_*.log

# å®Œæ•´å†å²
python train_manager.py history

# æ€§èƒ½å¯¹æ¯”
python train_manager.py compare model1.pt model2.pt
```

## æˆæœ¬åˆ†æ

### OpenAIæˆæœ¬

```
å¾®è°ƒ gpt-3.5-turbo (æ ‡å‡†):
- æ•°æ®ä¸Šä¼ : å…è´¹
- è®­ç»ƒ: $0.08/Kä»£å¸
- æ¨ç†: $0.0015/Kè¾“å…¥ + $0.006/Kè¾“å‡º

ç¤ºä¾‹ï¼ˆ1GBæ•°æ®, 3è½®ï¼‰:
â‰ˆ $50-200 / æœˆ
```

### æœ¬ç³»ç»Ÿæˆæœ¬

```
GPUæˆæœ¬ï¼ˆä¸€æ¬¡æ€§è´­ä¹°æˆ–äº‘ç«¯):
- åˆå§‹æŠ•èµ„: æ˜¾å¡æˆæœ¬
- è¿è¡Œæˆæœ¬: ç”µè´¹

ç¤ºä¾‹ï¼ˆåŒæ ·è®¡ç®—ï¼Œæœ¬åœ°GPUï¼‰:
â‰ˆ $0.5 ç”µè´¹ / æœˆ
```

**èŠ‚çœæ¯”ä¾‹: 99%+** ğŸ‰

## åŠŸèƒ½æ·±åº¦å¯¹æ¯”

### é¢„è®¾é…ç½®

**OpenAIæä¾›**:
```
å›ºå®šé¢„è®¾ï¼ˆä¸å¯è‡ªå®šä¹‰ï¼‰
- gpt-3.5-turbo
- gpt-4
- ...
```

**æœ¬ç³»ç»Ÿæä¾›**:
```
ğŸ“Š QUICK
  ç”¨é€”: éªŒè¯æ•°æ®ç®¡é“ã€æµ‹è¯•ç¯å¢ƒ
  æ‰¹æ¬¡: 2  è½®æ•°: 1  å­¦ä¹ ç‡: 1e-4
  æ—¶é—´: ~1åˆ†é’Ÿ
  
ğŸ“Š STANDARD
  ç”¨é€”: æ—¥å¸¸ç”Ÿäº§å¾®è°ƒã€åŸºæœ¬è®­ç»ƒ
  æ‰¹æ¬¡: 4  è½®æ•°: 3  å­¦ä¹ ç‡: 1e-4
  æ—¶é—´: ~30åˆ†é’Ÿ
  
ğŸ“Š EXTENDED
  ç”¨é€”: æ·±åº¦å¾®è°ƒã€é•¿æœŸè®­ç»ƒ
  æ‰¹æ¬¡: 8  è½®æ•°: 10  å­¦ä¹ ç‡: 5e-5
  æ—¶é—´: ~2å°æ—¶
  
ğŸ“Š PRECISION
  ç”¨é€”: ç”Ÿäº§éƒ¨ç½²ã€æœ€ä¼˜è´¨é‡
  æ‰¹æ¬¡: 16  è½®æ•°: 20  å­¦ä¹ ç‡: 1e-5
  æ—¶é—´: ~5å°æ—¶
```

**å¯å®šåˆ¶: æ— é™é¢„è®¾** ğŸ”§

### æ–­ç‚¹ç»­è®­

**OpenAI**:
```
âŒ ä¸æ”¯æŒ
å¦‚æœè®­ç»ƒä¸­æ–­ï¼Œéœ€è¦é‡æ–°å¼€å§‹
```

**æœ¬ç³»ç»Ÿ**:
```
âœ… å®Œå…¨æ”¯æŒ

# æŸ¥çœ‹æ£€æŸ¥ç‚¹
python train_manager.py list

# ä»ä»»æ„æ£€æŸ¥ç‚¹æ¢å¤
python train_cli.py --resume
python train_cli.py --resume --epochs 5
```

### æ¨¡å‹å¯¼å‡º

**OpenAI**:
```
ğŸ”’ å—é™
- åªèƒ½é€šè¿‡APIä½¿ç”¨
- æ— æ³•æœ¬åœ°éƒ¨ç½²
- æ— æ³•è°ƒè¯•å†…éƒ¨çŠ¶æ€
```

**æœ¬ç³»ç»Ÿ**:
```
âœ… å®Œå…¨è‡ªç”±

# æ£€æŸ¥ç‚¹å¯ç”¨
checkpoints/best_model.pt      # æœ€ä¼˜æ¨¡å‹
checkpoints/latest.pt          # æœ€æ–°æ£€æŸ¥ç‚¹
checkpoints/model_epoch_*.pt   # ä»»æ„è½®æ¬¡

# å®Œå…¨å¯æ§
- æœ¬åœ°éƒ¨ç½²
- ç¦»çº¿æ¨ç†
- å¾®è°ƒç°æœ‰æ£€æŸ¥ç‚¹
- é›†æˆåˆ°ä»»ä½•ç³»ç»Ÿ
```

## ç”¨æˆ·ä½“éªŒå¯¹æ¯”

### åœºæ™¯1: å¿«é€ŸéªŒè¯

**OpenAIå·¥ä½œæµ**:
1. å‡†å¤‡æ•°æ® (10åˆ†é’Ÿ)
2. æ ¼å¼è½¬æ¢ä¸ºJSONL (10åˆ†é’Ÿ)
3. ä¸Šä¼ åˆ°äº‘ç«¯ (5åˆ†é’Ÿ)
4. æäº¤ä»»åŠ¡ (2åˆ†é’Ÿ)
5. â˜• ç­‰å¾…30åˆ†é’Ÿ-2å°æ—¶
6. æŸ¥çœ‹ç»“æœ

**æœ¬ç³»ç»Ÿå·¥ä½œæµ**:
1. å‡†å¤‡æ•°æ® (10åˆ†é’Ÿ)
2. `python train_cli.py --preset quick`
3. âœ… 1åˆ†é’Ÿå®Œæˆï¼Œå®æ—¶çœ‹åˆ°æ—¥å¿—

**æ—¶é—´å¯¹æ¯”**: 1åˆ†é’Ÿ vs 2å°æ—¶ âš¡

### åœºæ™¯2: å‚æ•°è°ƒä¼˜

**OpenAIå·¥ä½œæµ**:
```
å°è¯•å‚æ•°1:
  - æäº¤ä»»åŠ¡ (2åˆ†é’Ÿ)
  - ç­‰å¾…å®Œæˆ (2å°æ—¶)
  - æŸ¥çœ‹ç»“æœ
  
å°è¯•å‚æ•°2:
  - æäº¤ä»»åŠ¡ (2åˆ†é’Ÿ)
  - ç­‰å¾…å®Œæˆ (2å°æ—¶)
  - æŸ¥çœ‹ç»“æœ

æ€»è€—æ—¶: 4å°æ—¶+ (ä»…2ä¸ªå‚æ•°)
```

**æœ¬ç³»ç»Ÿå·¥ä½œæµ**:
```bash
# å°è¯•å‚æ•°1
python train_cli.py --learning-rate 1e-4 --dry-run
python train_cli.py --learning-rate 1e-4
# 30åˆ†é’Ÿå®Œæˆ

# å°è¯•å‚æ•°2
python train_cli.py --learning-rate 5e-5 --dry-run
python train_cli.py --learning-rate 5e-5
# 30åˆ†é’Ÿå®Œæˆ

# å¯¹æ¯”ç»“æœ
python train_manager.py compare model1.pt model2.pt
# ç«‹å³çœ‹åˆ°å¯¹æ¯”

æ€»è€—æ—¶: 1å°æ—¶ (åŒ…æ‹¬åˆ†æ)
```

**åŠ é€Ÿæ¯”**: 4å€+ ğŸš€

## æ€»ç»“è¡¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     åŠŸèƒ½ç‰¹æ€§       â”‚   OpenAI     â”‚    æœ¬ç³»ç»Ÿ      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ é¢„è®¾é…ç½®           â”‚ âœ… å›ºå®š      â”‚ âœ… æ— é™çµæ´»    â”‚
â”‚ é…ç½®æ–‡ä»¶æ”¯æŒ       â”‚ âŒ           â”‚ âœ… å®Œå…¨æ”¯æŒ    â”‚
â”‚ å®æ—¶æ—¥å¿—           â”‚ âŒ           â”‚ âœ… å®Œæ•´è®°å½•    â”‚
â”‚ å¹²è¿è¡ŒéªŒè¯         â”‚ âŒ           â”‚ âœ… å…ˆçœ‹å†æ‰§è¡Œ  â”‚
â”‚ æ–­ç‚¹ç»­è®­           â”‚ âŒ           â”‚ âœ… éšæ—¶æ¢å¤    â”‚
â”‚ æœ¬åœ°æ§åˆ¶           â”‚ âŒ äº‘ç«¯é»‘ç›’  â”‚ âœ… å®Œå…¨å¯æ§    â”‚
â”‚ æ¨¡å‹å¯¼å‡º           â”‚ âŒ å—é™      â”‚ âœ… å®Œå…¨è‡ªç”±    â”‚
â”‚ æˆæœ¬               â”‚ ğŸ’°ğŸ’°ğŸ’°      â”‚ ğŸ’° (ä»…ç”µè´¹)   â”‚
â”‚ å“åº”å»¶è¿Ÿ           â”‚ ç½‘ç»œ+äº‘ç«¯    â”‚ âœ… å®æ—¶æœ¬åœ°    â”‚
â”‚ éšç§æ€§             â”‚ âŒ äº‘ç«¯å­˜å‚¨  â”‚ âœ… å®Œå…¨æœ¬åœ°    â”‚
â”‚ å¿«é€ŸéªŒè¯é€Ÿåº¦       â”‚ 2+ å°æ—¶      â”‚ 1 åˆ†é’Ÿ         â”‚
â”‚ å‚æ•°è°ƒä¼˜æ•ˆç‡       â”‚ ä½ (4å°æ—¶/2) â”‚ é«˜ (1å°æ—¶/2)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¯ ç»“è®º

æœ¬ç³»ç»Ÿæä¾›äº†**æ¯”OpenAI APIæ›´å¼ºå¤§ã€æ›´çµæ´»ã€æˆæœ¬æ›´ä½**çš„å·¥ä¸šçº§è®­ç»ƒèƒ½åŠ›ï¼š

âœ¨ **æ ¸å¿ƒä¼˜åŠ¿**:
1. **é¢„è®¾ç³»ç»Ÿ**: 4ä¸ªç²¾å¿ƒè®¾è®¡çš„é¢„è®¾ï¼Œè¦†ç›–æ‰€æœ‰åœºæ™¯
2. **é…ç½®ç®¡ç†**: JSONé…ç½®æ–‡ä»¶ä¿è¯å®éªŒå¯å¤ç°
3. **å®æ—¶åé¦ˆ**: å®Œæ•´æ—¥å¿—å’Œæ€§èƒ½ç›‘æ§
4. **æ— é™çµæ´»**: ä»»æ„å‚æ•°ç»„åˆï¼Œæ— é™æ¬¡å®éªŒ
5. **å®Œå…¨å¯æ§**: æœ¬åœ°éƒ¨ç½²ï¼Œéšç§ä¿æŠ¤ï¼Œæˆæœ¬ä¸º0
6. **å¿«é€Ÿè¿­ä»£**: å‚æ•°è°ƒä¼˜å¿«4å€ä»¥ä¸Š
7. **ä¼ä¸šçº§**: å·¥ä¸šçº§æ£€æŸ¥ç‚¹ç³»ç»Ÿï¼Œç‰ˆæœ¬ç®¡ç†

**ç«‹å³å¼€å§‹**: `python train_cli.py --preset quick`
